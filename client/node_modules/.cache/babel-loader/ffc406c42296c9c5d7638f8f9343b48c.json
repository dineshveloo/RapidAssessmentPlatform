{"ast":null,"code":"const Validator = require(\"validator\");\n\nconst isEmpty = require(\"is-empty\");\n\nmodule.exports = function validateLoginInput(data) {\n  let errors = {}; // Convert empty fields to an empty string so we can use validator functions\n\n  data.email = !isEmpty(data.email) ? data.email : \"\";\n  data.password = !isEmpty(data.password) ? data.password : \"\"; // Email checks\n\n  if (Validator.isEmpty(data.email)) {\n    errors.email = \"Email field is required\";\n  } else if (!Validator.isEmail(data.email)) {\n    errors.email = \"Email is invalid\";\n  } // Password checks\n\n\n  if (Validator.isEmpty(data.password)) {\n    errors.password = \"Password field is required\";\n  }\n\n  return {\n    errors,\n    isValid: isEmpty(errors)\n  };\n};","map":{"version":3,"sources":["/Users/anu/Documents/RapidAssessmentPlatform/validation/login.js"],"names":["Validator","require","isEmpty","module","exports","validateLoginInput","data","errors","email","password","isEmail","isValid"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAAvB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,SAASC,kBAAT,CAA4BC,IAA5B,EAAkC;AACjD,MAAIC,MAAM,GAAG,EAAb,CADiD,CAGjD;;AACAD,EAAAA,IAAI,CAACE,KAAL,GAAa,CAACN,OAAO,CAACI,IAAI,CAACE,KAAN,CAAR,GAAuBF,IAAI,CAACE,KAA5B,GAAoC,EAAjD;AACAF,EAAAA,IAAI,CAACG,QAAL,GAAgB,CAACP,OAAO,CAACI,IAAI,CAACG,QAAN,CAAR,GAA0BH,IAAI,CAACG,QAA/B,GAA0C,EAA1D,CALiD,CAOjD;;AACA,MAAIT,SAAS,CAACE,OAAV,CAAkBI,IAAI,CAACE,KAAvB,CAAJ,EAAmC;AACjCD,IAAAA,MAAM,CAACC,KAAP,GAAe,yBAAf;AACD,GAFD,MAEO,IAAI,CAACR,SAAS,CAACU,OAAV,CAAkBJ,IAAI,CAACE,KAAvB,CAAL,EAAoC;AACzCD,IAAAA,MAAM,CAACC,KAAP,GAAe,kBAAf;AACD,GAZgD,CAajD;;;AACA,MAAIR,SAAS,CAACE,OAAV,CAAkBI,IAAI,CAACG,QAAvB,CAAJ,EAAsC;AACpCF,IAAAA,MAAM,CAACE,QAAP,GAAkB,4BAAlB;AACD;;AAED,SAAO;AACLF,IAAAA,MADK;AAELI,IAAAA,OAAO,EAAET,OAAO,CAACK,MAAD;AAFX,GAAP;AAID,CAtBD","sourcesContent":["const Validator = require(\"validator\");\nconst isEmpty = require(\"is-empty\");\n\nmodule.exports = function validateLoginInput(data) {\n  let errors = {};\n\n  // Convert empty fields to an empty string so we can use validator functions\n  data.email = !isEmpty(data.email) ? data.email : \"\";\n  data.password = !isEmpty(data.password) ? data.password : \"\";\n\n  // Email checks\n  if (Validator.isEmpty(data.email)) {\n    errors.email = \"Email field is required\";\n  } else if (!Validator.isEmail(data.email)) {\n    errors.email = \"Email is invalid\";\n  }\n  // Password checks\n  if (Validator.isEmpty(data.password)) {\n    errors.password = \"Password field is required\";\n  }\n\n  return {\n    errors,\n    isValid: isEmpty(errors)\n  };\n};\n"]},"metadata":{},"sourceType":"script"}