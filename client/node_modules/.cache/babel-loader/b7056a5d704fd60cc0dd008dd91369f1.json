{"ast":null,"code":"var _jsxFileName = \"/Users/anu/Documents/RapidAssessmentPlatform/client/src/pages/SigninPage.js\";\nimport React, { Component } from 'react';\nimport { MDBEdgeHeader, MDBContainer, MDBRow, MDBCol, MDBJumbotron, MDBIcon, MDBInput, MDBBtn, MDBAnimation } from 'mdbreact';\nimport classnames from \"classnames\";\nimport { loginUser } from '../actions/authActions';\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nclass SigninPage extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.loginUser(userData);\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/\");\n    } // console.log(this.props.auth.isAuthenticated);\n\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/\");\n    }\n\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  render() {\n    const errors = this.state.errors;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MDBEdgeHeader, {\n      color: \"indigo darken-3\",\n      className: \"sectionPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(MDBAnimation, {\n      type: \"zoomIn\",\n      duration: \"500ms\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"8\",\n      className: \"mt-3 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MDBJumbotron, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      icon: \"edit\",\n      className: \"indigo-text mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }), \"Sign in\"), /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grey-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      onChange: this.onChange,\n      value: this.state.email,\n      error: errors.email,\n      id: \"email\",\n      type: \"email\",\n      className: classnames(\"\", {\n        invalid: errors.email || errors.emailnotfound\n      }),\n      label: \"Type your email\",\n      icon: \"envelope\",\n      group: true,\n      validate: true,\n      success: \"right\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"red-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, errors.email, errors.emailnotfound), /*#__PURE__*/React.createElement(MDBInput, {\n      onChange: this.onChange,\n      value: this.state.password,\n      error: errors.password,\n      id: \"password\",\n      type: \"password\",\n      className: classnames(\"\", {\n        invalid: errors.password || errors.passwordincorrect\n      }),\n      label: \"Type your password\",\n      icon: \"lock\",\n      group: true,\n      validate: true,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"red-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, errors.password, errors.passwordincorrect)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 23\n      }\n    }, \"Login\")))))))));\n  }\n\n}\n\nSigninPage.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  loginUser\n})(SigninPage);","map":{"version":3,"sources":["/Users/anu/Documents/RapidAssessmentPlatform/client/src/pages/SigninPage.js"],"names":["React","Component","MDBEdgeHeader","MDBContainer","MDBRow","MDBCol","MDBJumbotron","MDBIcon","MDBInput","MDBBtn","MDBAnimation","classnames","loginUser","connect","PropTypes","SigninPage","constructor","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","email","state","password","props","errors","componentDidMount","auth","isAuthenticated","history","push","componentWillReceiveProps","nextProps","render","invalid","emailnotfound","passwordincorrect","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  MDBEdgeHeader,\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBJumbotron,\n  MDBIcon,\n  MDBInput,\n  MDBBtn,\n  MDBAnimation\n} from 'mdbreact';\nimport classnames from \"classnames\";\nimport { loginUser } from '../actions/authActions';\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nclass SigninPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/\");\n    }\n    // console.log(this.props.auth.isAuthenticated);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/\");\n    }\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    this.props.loginUser(userData);\n  };\n\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      <>\n        <MDBEdgeHeader color='indigo darken-3' className='sectionPage' />\n        <MDBAnimation type='zoomIn' duration='500ms'>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol md='8' className='mt-3 mx-auto'>\n                <MDBJumbotron>\n                  <h1 className='text-center'>\n                    <MDBIcon icon='edit' className='indigo-text mr-2' />\n                    Sign in\n                  </h1>\n                  <form noValidate onSubmit={this.onSubmit}>\n                    <div className='grey-text'>\n                      <MDBInput\n                        onChange={this.onChange}\n                        value={this.state.email}\n                        error={errors.email}\n                        id=\"email\"\n                        type=\"email\"\n                        className={classnames(\"\", {\n                          invalid: errors.email || errors.emailnotfound\n                        })}\n                        label='Type your email'\n                        icon='envelope'\n                        group\n                        validate\n                        success='right'\n                        required\n                      /><span className=\"red-text\">\n                        {errors.email}\n                        {errors.emailnotfound}\n                      </span>\n                      <MDBInput\n                        onChange={this.onChange}\n                        value={this.state.password}\n                        error={errors.password}\n                        id=\"password\"\n                        type=\"password\"\n                        className={classnames(\"\", {\n                          invalid: errors.password || errors.passwordincorrect\n                        })}\n                        label='Type your password'\n                        icon='lock'\n                        group\n                        validate\n                        required\n                      /><span className=\"red-text\">\n                        {errors.password}\n                        {errors.passwordincorrect}\n                      </span>\n                    </div>\n                    <div className='text-center'>\n                      <MDBBtn type=\"submit\" >Login</MDBBtn>\n                    </div>\n                  </form>\n                </MDBJumbotron>\n              </MDBCol>\n            </MDBRow>\n          </MDBContainer>\n        </MDBAnimation>\n      </>\n    );\n  }\n}\n\nSigninPage.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(SigninPage);\n"]},"metadata":{},"sourceType":"module"}