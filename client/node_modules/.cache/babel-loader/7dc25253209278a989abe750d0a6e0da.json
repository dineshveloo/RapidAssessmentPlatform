{"ast":null,"code":"const nodemailer = require('nodemailer');\n\nconst _require = require('../config/info'),\n      CLIENT_ORIGIN = _require.CLIENT_ORIGIN;\n\nconst emailUser = function emailUser(newUser) {\n  let transporter = nodemailer.createTransport({\n    host: \"smtp.gmail.com\",\n    port: 465,\n    secure: true,\n    // true for 465, false for other ports\n    auth: {\n      user: process.env.MAIL_USER,\n      pass: process.env.MAIL_PASS\n    }\n  });\n  let htmlTemplate = \"<br>Dear User,<br><br>\" + \"your access request to RAP has been approved by the admin.<br><br>\" + \"please click the below link to regiser.<br><br>\" + \"<a href=\\\"\".concat(CLIENT_ORIGIN, \"/register\\\">click to register</a><br><br><br>\") + \"--------------------------------------------<br><br>\" + \"this is an auto generted email, please do not reply.<br><br>\" + \"--------------------------------------------<br><br>\";\n  let info = transporter.sendMail({\n    from: process.env.MAIL_USER,\n    to: newUser,\n    // list of receivers\n    subject: \"Access to RAP Approved\",\n    // Subject line\n    html: htmlTemplate\n  });\n};\n\nmodule.exports = {\n  emailUser\n};","map":{"version":3,"sources":["/Users/anu/Documents/RapidAssessmentPlatform/email/email.user.js"],"names":["nodemailer","require","CLIENT_ORIGIN","emailUser","newUser","transporter","createTransport","host","port","secure","auth","user","process","env","MAIL_USER","pass","MAIL_PASS","htmlTemplate","info","sendMail","from","to","subject","html","module","exports"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;iBAC0BA,OAAO,CAAC,gBAAD,C;MAAzBC,a,YAAAA,a;;AAER,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAUC,OAAV,EAAmB;AACjC,MAAIC,WAAW,GAAGL,UAAU,CAACM,eAAX,CAA2B;AACzCC,IAAAA,IAAI,EAAE,gBADmC;AAEzCC,IAAAA,IAAI,EAAE,GAFmC;AAGzCC,IAAAA,MAAM,EAAE,IAHiC;AAG3B;AACdC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADhB;AAEFC,MAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFhB;AAJmC,GAA3B,CAAlB;AAUA,MAAIC,YAAY,GAAG,2BACf,oEADe,GAEf,iDAFe,uBAGHf,aAHG,qDAIf,sDAJe,GAKf,8DALe,GAMf,sDANJ;AASA,MAAIgB,IAAI,GAAGb,WAAW,CAACc,QAAZ,CAAqB;AAC5BC,IAAAA,IAAI,EAAER,OAAO,CAACC,GAAR,CAAYC,SADU;AAE5BO,IAAAA,EAAE,EAAEjB,OAFwB;AAEf;AACbkB,IAAAA,OAAO,EAAE,wBAHmB;AAGO;AACnCC,IAAAA,IAAI,EAAEN;AAJsB,GAArB,CAAX;AAOH,CA3BD;;AA6BAO,MAAM,CAACC,OAAP,GAAiB;AACbtB,EAAAA;AADa,CAAjB","sourcesContent":["const nodemailer = require('nodemailer');\nconst { CLIENT_ORIGIN } = require('../config/info');\n\nconst emailUser = function (newUser) {\n    let transporter = nodemailer.createTransport({\n        host: \"smtp.gmail.com\",\n        port: 465,\n        secure: true, // true for 465, false for other ports\n        auth: {\n            user: process.env.MAIL_USER,\n            pass: process.env.MAIL_PASS\n        },\n    });\n\n    let htmlTemplate = \"<br>Dear User,<br><br>\" +\n        \"your access request to RAP has been approved by the admin.<br><br>\"+\n        \"please click the below link to regiser.<br><br>\"+\n        `<a href=\"${CLIENT_ORIGIN}/register\">click to register</a><br><br><br>` +\n        \"--------------------------------------------<br><br>\" +\n        \"this is an auto generted email, please do not reply.<br><br>\" +\n        \"--------------------------------------------<br><br>\"\n        ;\n\n    let info = transporter.sendMail({\n        from: process.env.MAIL_USER,\n        to: newUser, // list of receivers\n        subject: \"Access to RAP Approved\", // Subject line\n        html: htmlTemplate\n    })\n\n}\n\nmodule.exports = {\n    emailUser\n}\n\n\n"]},"metadata":{},"sourceType":"script"}